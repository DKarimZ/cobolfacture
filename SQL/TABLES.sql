

CREATE TABLE Clients(
   IDCLIENT INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   NOM VARCHAR(50) ,
   PRENOM VARCHAR(50) ,
   RAISON_SOCIALE VARCHAR(50) ,
   TYPECLIENT VARCHAR(50) ,
   EXTERNE SMALLINT,
   PRIMARY KEY(IDCLIENT)
);

CREATE TABLE Comptes(
   COMPTEID INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   IBAN VARCHAR(50) NOT NULL,
   DATEOUVER DATE,
   SOLDE DECIMAL(10,2)   NOT NULL,
   IDCLIENT SMALLINT NOT NULL,
   PRIMARY KEY(COMPTEID),
   UNIQUE(IBAN),
   FOREIGN KEY(IDCLIENT) REFERENCES Clients(IDCLIENT)
);

CREATE TABLE Op√©rations(
   IDOPERATION INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   TYPE VARCHAR(50) ,
   LIBELLE VARCHAR(50) ,
   MONTANT DECIMAL(8,2)  ,
   COMPTEID SMALLINT NOT NULL,
   IDCLIENT SMALLINT NOT NULL,
   DATEOP DATE NOT NULL,
   PRIMARY KEY(IDOPERATION),
   FOREIGN KEY(COMPTEID) REFERENCES Comptes(COMPTEID),
   FOREIGN KEY(IDCLIENT) REFERENCES Clients(IDCLIENT)
);

CREATE TABLE CARTE(
   NUMEROCARTE INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
   TYPECARTE VARCHAR(50) ,
   COMPTEID SMALLINT NOT NULL,
   PRIMARY KEY(NUMEROCARTE),
   FOREIGN KEY(COMPTEID) REFERENCES Comptes(COMPTEID)
);
